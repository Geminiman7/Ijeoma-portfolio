<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin - Manage projects</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
       <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

</head>
<body>
<section class="admin-list">
    <h2>Manage Projects</h2>
    <a href="{{ url_for('add_project') }}" class="btn">+ Add New Project</a>

    <ul>
        {% for project in projects %}
        <li>
            {% if project.image %}
                <img src="{{ url_for('static', filename=project.image) }}" alt="{{ project.title }}" width="100">
            {% endif %}
            <strong>{{ project.title }}</strong> - {{ project.description[:60] }}...
            {% if project.impact %}
                <p><em>Impact:</em> {{ project.impact[:60] }}...</p>
            {% endif %}

              {% if project.link %}
                    <a href="{{ project.link }}" target="_blank">Read More</a>
                {% endif %}
            <div class="actions">
                <a href="{{ url_for('edit_project', project_id=project.id) }}">Edit</a>
                <form method="POST" action="{{ url_for('delete_project', project_id=project.id) }}" style="display:inline;">
                    <button type="submit" onclick="return confirm('Delete this project?')">Delete</button>
                </form>
            </div>
        </li>
        {% else %}
        <p>No projects added yet.</p>
        {% endfor %}
    </ul>

    <a href="{{ url_for('admin_dashboard') }}">Back to Dashboard</a>
</section>
</body>
</html>
