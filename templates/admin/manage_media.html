<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin - Manage media</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
       <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

</head>
<body>
<section class="admin-list">
    <h2>Manage Media</h2>
    <a href="{{ url_for('add_media') }}" class="btn">+ Add New Media</a>

    <ul>
        {% for item in media %}
        <li>
            {% if item.thumbnail %}
                <img src="{{ url_for('static', filename=item.thumbnail or 'images/default.jpg') }}" alt="{{ item.title }}" class="media-img">

            {% endif %}
            <strong>{{ item.title }}</strong> -
            <a href="{{ item.video_url }}" target="_blank">View</a>
            <div class="actions">
                <a href="{{ url_for('edit_media', media_id=item.id) }}">Edit</a>
                <form method="POST" action="{{ url_for('delete_media', media_id=item.id) }}" style="display:inline;">
                    <button type="submit" onclick="return confirm('Delete this media?')">Delete</button>
                </form>
            </div>
        </li>
        {% else %}
        <p>No media items added yet.</p>
        {% endfor %}
    </ul>

    <a href="{{ url_for('admin_dashboard') }}">Back to Dashboard</a>
</section>
</body>
</html>
